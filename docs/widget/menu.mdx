---
title: NakedMenu
---

NakedMenu provides dropdown menu behavior and accessibility features without imposing any visual styling, giving consumers complete design freedom. It anchors an overlay to a trigger, using `RawMenuAnchor` under the hood for correct layering and focus/keyboard handling.

<Info>
  You can find this example in our [GitHub repository](https://github.com/btwld/mix/blob/main/packages/naked/example/lib/api/naked_menu.0.dart).
</Info>
<CodeGroup title="Usage Example" defaultLanguage="dart">
```dart
class MenuExample extends StatefulWidget {
  const MenuExample({super.key});

  @override
  State<MenuExample> createState() => _MenuExampleState();
}

class _MenuExampleState extends State<MenuExample> {
  final _controller = MenuController();

  void _onItemPressed(String item) {
    ScaffoldMessenger.of(context).showSnackBar(
      SnackBar(content: Text('Item $item selected')),
    );
  }

  @override
  Widget build(BuildContext context) {
    return NakedMenu(
      builder: (context) => NakedButton(
        onPressed: () => _controller.open(),
        child: Container(
          padding: const EdgeInsets.all(8),
          decoration: BoxDecoration(
            color: Colors.white,
            borderRadius: BorderRadius.circular(8),
            border: Border.all(color: Colors.grey.shade300),
          ),
          child: const Icon(Icons.settings, size: 18),
        ),
      ),
      overlayBuilder: (context) => Container(
        padding: const EdgeInsets.all(8),
        decoration: BoxDecoration(
          color: Colors.white,
          border: Border.all(color: Colors.grey.shade200),
          borderRadius: BorderRadius.circular(8),
          boxShadow: [
            BoxShadow(
              color: Colors.black.withValues(alpha: 0.05),
              blurRadius: 8,
              offset: const Offset(0, 4),
            ),
          ],
        ),
        constraints: const BoxConstraints(
          maxWidth: 200,
        ),
        child: Column(
          mainAxisSize: MainAxisSize.min,
          children: [
            ItemContent(
              title: 'Menu Item 1',
              onPressed: () => _onItemPressed('1'),
            ),
            ItemContent(
              title: 'Menu Item 2',
              onPressed: () => _onItemPressed('2'),
            ),
            ItemContent(
              title: 'Menu Item 3',
              onPressed: () => _onItemPressed('3'),
            ),
          ],
        ),
      ),
      controller: _controller,
      onClose: () => _controller.close(),
    );
  }
}

class ItemContent extends StatefulWidget {
  const ItemContent({
    super.key,
    required this.title,
    required this.onPressed,
  });

  final String title;
  final VoidCallback onPressed;

  @override
  State<ItemContent> createState() => _ItemContentState();
}

class _ItemContentState extends State<ItemContent> {
  bool _isHovered = false;

  @override
  Widget build(BuildContext context) {
    return NakedMenuItem(
      onPressed: widget.onPressed,
      onHoverChange: (isHovered) => setState(() => _isHovered = isHovered),
      child: AnimatedContainer(
        duration: const Duration(milliseconds: 200),
        padding: const EdgeInsets.all(8.0),
        decoration: BoxDecoration(
          color: _isHovered ? Colors.grey.shade100 : Colors.white,
          borderRadius: BorderRadius.circular(4),
        ),
        child:
            Row(mainAxisAlignment: MainAxisAlignment.spaceBetween, children: [
          Text(widget.title),
          AnimatedOpacity(
            opacity: _isHovered ? 1.0 : 0.0,
            duration: const Duration(milliseconds: 200),
            child: const Icon(
              Icons.arrow_forward_ios,
              size: 12,
              color: Colors.grey,
            ),
          ),
        ]),
      ),
    );
  }
}
```
</CodeGroup>

## Constructor

```dart
const NakedMenu({
  Key? key,
  required this.builder,
  required this.overlayBuilder,
  required this.controller,
  this.onClose,
  this.consumeOutsideTaps = true,
  this.useRootOverlay = false,
  this.autofocus = false,
  this.menuPosition = const NakedMenuPosition(
    target: Alignment.bottomLeft,
    follower: Alignment.topLeft,
  ),
  this.fallbackPositions = const [
    NakedMenuPosition(
      target: Alignment.topLeft,
      follower: Alignment.bottomLeft,
    ),
  ],
})
```

## Properties

#### builder → `WidgetBuilder`
The target widget that triggers the menu. This is typically a button or other interactive element.

#### overlayBuilder → `WidgetBuilder`
The menu widget to display when open. This is the content displayed in the overlay when the menu is open.

#### controller → `MenuController`
The controller that manages the visibility of the menu. Use this to open/close the menu programmatically.

#### onClose → `VoidCallback?`
Called when the menu should close.

#### consumeOutsideTaps → `bool`
Whether to close the menu when clicking outside. Defaults to true.

#### useRootOverlay → `bool`
Whether to use the root overlay for rendering the menu. Defaults to false.

#### autofocus → `bool`
Whether to automatically focus the menu when opened. Defaults to false.

#### menuPosition → `NakedMenuPosition`
The alignment of the menu relative to its target.

#### fallbackPositions → `List<NakedMenuPosition>`
Fallback alignments to try if the menu doesn't fit in the preferred position.

## Accessibility

Focus management and keyboard navigation are handled automatically. The menu can be closed by pressing Escape, clicking outside (if `consumeOutsideTaps` is true), or selecting an item (if `closeOnSelect` is true). When opened, focus is automatically moved to the menu content.

For accessibility, the menu supports screen readers and keyboard navigation. Menu items should use `NakedMenuItem` which provides proper interaction states and accessibility features.

## NakedMenuItem

```dart
const NakedMenuItem({
  Key? key,
  this.child,
  this.onPressed,
  this.enabled = true,
  this.closeOnSelect = true,
  this.semanticLabel,
  this.semanticHint,
  this.excludeSemantics = false,
  this.mouseCursor = SystemMouseCursors.click,
  this.enableFeedback = true,
  this.focusNode,
  this.autofocus = false,
  this.onFocusChange,
  this.onHoverChange,
  this.onPressChange,
  this.onStatesChange,
  this.statesController,
  this.builder,
})
```

### Properties

- child: Visual content for the item. Provide either `child` or `builder`.
- onPressed: Called when the item is selected.
- enabled: Whether the item is enabled.
- closeOnSelect: Whether to close the menu when selected. Defaults to true.
- semanticLabel/semanticHint: Accessibility metadata.
- excludeSemantics: Exclude child semantics subtree.
- mouseCursor: Cursor when hovering. Defaults to click.
- enableFeedback: Whether to provide feedback on selection.
- focusNode/autofocus: Focus handling.
- onFocusChange/onHoverChange/onPressChange: State callbacks.
- onStatesChange: Called when any widget state changes.
- statesController: Optional external states controller.
- builder: Optional builder receiving `Set<WidgetState>`.
